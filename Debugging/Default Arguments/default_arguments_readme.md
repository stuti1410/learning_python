# Print from Stream

This Python script demonstrates a function, `print_from_stream`, that prints a sequence of numbers based on a given stream (either even or odd).
It utilizes two custom stream classes, `EvenStream` and `OddStream`, to generate even and odd numbers respectively.

## Problem Overview

Task is to debug the given code.

The `print_from_stream` function:
- Prints the first `n` values returned by the `get_next()` method of a stream object.
- Uses an instance of `EvenStream` as the default stream when none is provided.

The script processes multiple test cases based on input data and calls the `print_from_stream` function accordingly.

### Input Format

1. The first line contains a single integer `q`, the number of queries.
2. Each of the following `q` lines contains:
    - A stream name (`even` or `odd`).
    - An integer `n`, the number of values to print.
```
3
odd 2
even 3
odd 5
```

### Output Format

- For each query, the first `n` numbers generated by the corresponding stream are printed, each on a new line.
```
1
3
0
2
4
1
3
5
7
9
```

## Code Explanation

### Classes

1. **EvenStream**
    - Generates even numbers starting from 0.
    - Has a `get_next` method that returns the next even number in the sequence.

2. **OddStream**
    - Generates odd numbers starting from 1.
    - Has a `get_next` method that returns the next odd number in the sequence.

### Problem with the Given Code
In the given code, the default `EvenStream` instance was created once when the function was defined and reused in subsequent calls to `print_from_stream()`.
This caused the `self.current` attribute of the `EvenStream` instance to retain its value between calls, leading to unintended behavior.

**Example**
Let's check what happens if the function `print_from_stream()` is called more than once:
```
print_from_stream(2)
print_from_stream(3)
```
The first call would print:
```
0
2
```
And the second call would print:
```
4
6
8
```
Instead of restarting the sequence from `0`.

### Debugged Function

**`print_from_stream(n, stream=None)`**
- Takes two arguments:
  - `n`: Number of values to print.
  - `stream`: A stream object (defaults to a new `EvenStream` instance).
- Prints the first `n` values generated by the stream, one per line.
- Ensures a new `EvenStream` instance is created every time the function is called with the default argument to avoid shared state issues.

### Complete Debugged Code
```python
class EvenStream(object):
    def __init__(self):
        self.current = 0

    def get_next(self):
        to_return = self.current
        self.current += 2
        return to_return


class OddStream(object):
    def __init__(self):
        self.current = 1

    def get_next(self):
        to_return = self.current
        self.current += 2
        return to_return


def print_from_stream(n, stream=None):
    if stream is None:
        stream = EvenStream()  # Ensures a new instance of EvenStream is created each time
    for _ in range(n):
        print(stream.get_next())


# Reading input and processing queries
queries = int(input())
for _ in range(queries):
    stream_name, n = input().split()
    n = int(n)
    if stream_name == "even":
        print_from_stream(n)
    else:
        print_from_stream(n, OddStream())
```
